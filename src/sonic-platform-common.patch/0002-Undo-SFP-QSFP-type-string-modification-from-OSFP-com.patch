From d519d0dde87668d725c955d73751e1c369e3cc4b Mon Sep 17 00:00:00 2001
From: vasrajan <vasrajan@cisco.com>
Date: Mon, 23 Sep 2019 13:30:25 -0700
Subject: [PATCH 2/4] Undo SFP/QSFP type string modification from OSFP commit

---
 sonic_sfp/sff8436.py | 19 ++++++++++++++++++-
 sonic_sfp/sff8472.py | 15 ++++++++++++++-
 2 files changed, 32 insertions(+), 2 deletions(-)

diff --git a/sonic_sfp/sff8436.py b/sonic_sfp/sff8436.py
index 777cfa1..63ca3a4 100644
--- a/sonic_sfp/sff8436.py
+++ b/sonic_sfp/sff8436.py
@@ -15,7 +15,6 @@ try:
     import getopt
     import types
     from math import log10
-    from sff8024 import type_of_transceiver
     from sffbase import sffbase
 except ImportError as e:
     raise ImportError (str(e) + "- required module not found")
@@ -186,6 +185,24 @@ class sff8436InterfaceId(sffbase):
                         {'offset': 9,
                          'bit': 0}}}}
 
+    type_of_transceiver = {
+            '00':'Unknown or unspecified',
+            '01':'GBIC',
+            '02': 'Module/connector soldered to motherboard',
+            '03': 'SFP',
+            '04': '300 pin XBI',
+            '05': 'XENPAK',
+            '06': 'XFP',
+            '07': 'XFF',
+            '08': 'XFP-E',
+            '09': 'XPAK',
+            '0a': 'X2',
+            '0b': 'DWDM-SFP',
+            '0c': 'QSFP',
+            '0d': 'QSFP+',
+            '11': 'QSFP28'
+            }
+
     ext_type_of_transceiver = {
             '00': 'Power Class 1(1.5W max)',
             '04': 'Power Class 1(1.5W max), CDR present in Tx',
diff --git a/sonic_sfp/sff8472.py b/sonic_sfp/sff8472.py
index 4a4c91f..1539fc9 100644
--- a/sonic_sfp/sff8472.py
+++ b/sonic_sfp/sff8472.py
@@ -17,7 +17,6 @@ try:
     import getopt
     import types
     from math import log10
-    from sff8024 import type_of_transceiver
     from sffbase import sffbase
 except ImportError as e:
     raise ImportError (str(e) + "- required module not found")
@@ -259,6 +258,20 @@ class sff8472InterfaceId(sffbase):
                             {'offset': 10,
                             'bit': 0}}}}
 
+    type_of_transceiver = {'00':'Unknown',
+                   '01':'GBIC',
+                   '02': 'Module soldered to motherboard',
+                   '03': 'SFP or SFP Plus',
+                   '04': '300 pin XBI',
+                   '05': 'XENPAK',
+                   '06': 'XFP',
+                   '07': 'XFF',
+                   '08': 'XFP-E',
+                   '09': 'XPAK',
+                   '0a': 'X2',
+                   '0b': 'DWDM-SFP',
+                   '0d': 'QSFP'}
+
     exttypeoftransceiver = {'00': 'GBIC def not specified',
                 '01':'GBIC is compliant with MOD_DEF 1',
                 '02':'GBIC is compliant with MOD_DEF 2',
-- 
2.7.4

